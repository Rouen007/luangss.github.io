#内核同步介绍

存在共享资源(共享一个文件，一块内存等等)的时候，为了防止并发访问时共享资源的数据不一致，引入了同步机制。

主要内容：

1. 同步的概念
2. 同步的方法-加锁
3. 死锁
4. 锁的粒度

##同步
**临界区**   - 也称为临界段，就是访问和操作共享数据的代码段。
**竞争条件** - 2个或2个以上线程在临界区里同时执行的时候，就构成了竞争条件。

所谓同步，其实防止在临界区中形成竞争条件。
如果临界区里是**原子操作**(即整个操作完成前不会被打断)，那么自然就不会出竞争条件。
但在实际应用中，临界区中的代码往往不会那么简单，所以为了保持同步，引入了锁机制。

##同步的方法-加锁

为了给临界区加锁，保证临界区数据的同步，首先了解一下内核中哪些情况下会产生并发。

内核中造成竞争条件的原因：
![image](https://github.com/Rouen007/luangss.github.io/blob/master/image-lib/9.1.PNG)






